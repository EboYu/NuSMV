MODULE main
VAR
state:{1,2,3,4,5,6};
ctrl:{0,1};
time:0..20;

ASSIGN
init(state):=1;
next(state):=case
			 ctrl=0&state=1:{2,3};
             ctrl=0&state=2:{4,5,6};
             ctrl=0&state=3:{5,6};
             ctrl=0&state=4:{6};
             ctrl=1:6;
			TRUE : state;
		esac;

init(ctrl):=0;

init(time):=0;
next(time):=(time + 1) mod 20;


SPEC  !EF (state=6)
